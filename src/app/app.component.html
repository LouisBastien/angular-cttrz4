<table mat-table [dataSource]="dataSource" class="truncate-cells" matSort cdkDropList cdkDropListLockAxis="x"
  cdkDropListOrientation="horizontal" (cdkDropListDropped)="drop($event)">
  <!-- Position Column -->
  <ng-container matColumnDef="position">
    <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag [resizeColumn]=true>
      <mat-icon cdkDragHandle>open_with</mat-icon>
      Position
    </th>
    <td mat-cell *matCellDef="let element" #positionColumn class="truncate" [matTooltip]="element.position"
      [matTooltipDisabled]="positionColumn.scrollWidth <= positionColumn.clientWidth">
      {{element.position}}
    </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef cdkDrag mat-sort-header [resizeColumn]=true>
      <mat-icon cdkDragHandle>open_with</mat-icon>
      Name
    </th>
    <td mat-cell *matCellDef="let element" #nameColumn class="truncate" [matTooltip]="element.name"
      [matTooltipDisabled]="nameColumn.scrollWidth <= nameColumn.clientWidth">
      {{element.name}}
    </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="weight">
    <th mat-header-cell *matHeaderCellDef cdkDrag mat-sort-header [resizeColumn]=true>
      <mat-icon class="handle" cdkDragHandle>open_with</mat-icon>
      Weight
    </th>
    <td mat-cell *matCellDef="let element" #weightColumn class="truncate" [matTooltip]="element.weight"
      [matTooltipDisabled]="weightColumn.scrollWidth <= weightColumn.clientWidth">
      {{element.weight}}
    </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="symbol">
    <th mat-header-cell *matHeaderCellDef cdkDrag mat-sort-header [resizeColumn]=true>
      <mat-icon cdkDragHandle>open_with</mat-icon>
      Symbol
    </th>
    <td mat-cell *matCellDef="let element" #symbolColumn class="truncate" [matTooltip]="element.symbol"
      [matTooltipDisabled]="symbolColumn.scrollWidth <= symbolColumn.clientWidth">
      {{element.symbol}}
    </td>
  </ng-container>

  <!-- Position Filter -->
  <ng-container matColumnDef="position-filter">
    <th mat-header-cell *matHeaderCellDef>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label> Position </mat-label>
        <input matInput [formControl]="positionFilter" />
      </mat-form-field>
    </th>
  </ng-container>

  <!-- Name Filter -->
  <ng-container matColumnDef="name-filter">
    <th mat-header-cell *matHeaderCellDef>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label> Name </mat-label>
        <input matInput [formControl]="nameFilter" />
      </mat-form-field>
    </th>
  </ng-container>

  <!-- Weight Filter -->
  <ng-container matColumnDef="weight-filter">
    <th mat-header-cell *matHeaderCellDef>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label> Weight </mat-label>
        <input matInput [formControl]="weightFilter" />
      </mat-form-field>
    </th>
  </ng-container>

  <!-- Symol Filter -->
  <ng-container matColumnDef="symbol-filter">
    <th mat-header-cell *matHeaderCellDef>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label> Symbol </mat-label>
        <input matInput [formControl]="symbolFilter" />
      </mat-form-field>
    </th>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns" class="example-first-header-row"></tr>
  <tr mat-header-row *matHeaderRowDef="displayedFilters" class="second-first-header-row"></tr>

  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<mat-paginator [pageSize]="4" [pageSizeOptions]="[2, 4, 6, 8, 10, 15, 20]" showFirstLastButtons></mat-paginator>